import{o as w,j as e,e as N,I as b,f as y,u,p as v,q as k,t as D}from"./index-BvQviAiY.js";const A=({hotel_id:a,checkInDate:t,checkOutDate:c,totalNoRooms:i,roomDetails:l})=>{var x,n;const{data:s,isError:o,isFetching:d,isLoading:m,isSuccess:f,isUninitialized:g}=w({hotel_id:a,room_id:l[0].id});return m?e.jsx(N.Spinner,{}):e.jsxs("div",{className:"my-8 flex flex-col gap-5",children:[e.jsxs("div",{className:"flex justify-between items-center border-b-2 pb-5 px-7 m-3",children:[e.jsx("h2",{className:" text-[1rem] font-bold",children:(x=s==null?void 0:s.response[0])==null?void 0:x.hotelName}),e.jsx("img",{className:"rounded-md",src:`${b+((n=s==null?void 0:s.response[0])==null?void 0:n.images[2])}`,alt:"",width:250})]}),e.jsxs("div",{className:"flex justify-between items-center border-b-2 pb-5 px-7 m-3",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("h2",{className:" font-bold text-[1rem]",children:"Check In"}),e.jsx("h2",{className:"text-[0.8rem]",children:t})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("h2",{className:"font-bold text-[1rem]",children:"Check out"}),e.jsx("h2",{className:"text-[0.8rem]",children:c})]}),e.jsx("div",{className:"flex flex-col justify-center",children:e.jsxs("h2",{children:[i," Rooms | "]})})]}),e.jsxs("div",{className:"flex flex-col justify-center ps-10",children:[e.jsxs("div",{className:"flex mb-6",children:[e.jsx("h2",{className:"capitalize font-bold w-1/3 ",children:"room Category"}),e.jsx("h2",{className:"capitalize  font-bold  w-1/3 ",children:"price"}),e.jsx("h2",{className:"capitalize  font-bold  w-1/3 ",children:"noOfRooms"})]}),l.map(({roomType:r,price:j,noOfRooms:h},p)=>e.jsxs("div",{className:"flex justify-left ",children:[e.jsx("h2",{className:"uppercase w-1/3  ",children:r}),e.jsx("h2",{className:"w-1/3 ",children:j}),e.jsxs("h2",{className:"w-1/3 ",children:[h," "]})]}))]})]})},S=y.injectEndpoints({endpoints:a=>({payUsingWallet:a.mutation({query:t=>({url:"/payment/payment-using-wallet",method:"post",body:t})})})}),{usePayUsingWalletMutation:U}=S,P=()=>{const a=u(v),{checkInDate:t,checkOutDate:c,hotel_id:i,roomDetails:l,totalNoRooms:s,totalPrice:o,noOfDays:d}=a;console.log(a);const m=k(),[f,{isError:g,isLoading:x,isSuccess:n}]=U(),r=u(D);return n&&m("/payment-success"),e.jsxs("div",{className:"grid grid-cols-5 grid-rows-[1fr,1fr,1fr,1fr,1fr] gap-4 w-full min-h-[100vh] md:m-16 mt-2",children:[e.jsx("div",{className:"lg:col-start-1 lg:col-end-4 col-span-full row-start-1 lg:row-end-4 row-end-3  shadow-lg rounded-md border-2",children:e.jsx(A,{hotel_id:i,checkInDate:t,checkOutDate:c,totalNoRooms:s,roomDetails:l})}),console.log(l),e.jsx("div",{className:"lg:col-start-4 col-span-full lg:col-end-6  lg:row-start-1 row-start-3 lg:row-end-2 row-end-4 border-2",children:e.jsxs("div",{className:"border-2  shadow-md p-5",children:[e.jsx("h2",{className:"font-bold pb-5  text-left text-[1rem]",children:"Price Breakup"}),l.map(({roomType:j,price:h,noOfRooms:p},C)=>e.jsx("div",{className:"flex pb-2 justify-between",children:e.jsxs("h2",{className:" text-[0.9rem] capitalize",children:[p," Rooms x ",d," Days x ",h," rs"]})})),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{className:" pt-5 text-[0.9rem]",children:"Discount Amount :"}),e.jsx("h2",{className:"font-bold pt-5",children:r})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{className:" pt-5 text-[0.9rem]",children:"Total Price :"}),e.jsxs("h2",{className:"font-bold pt-5",children:["â‚¹ ",o]})]})]})}),e.jsx("div",{className:"lg:col-start-4  col-span-full lg:col-end-6 lg:row-start-2 row-start-5 row-end-4 rounded-md",children:e.jsx(N.Button,{className:"ms-[240px]",onClick:async()=>{console.log(l),await f({totalPrice:o,checkInDate:t,checkOutDate:c,hotel_id:i,totalNoRooms:s,roomDetails:l,noOfDays:d,discountAmount:r})},children:"Confirm Booking"})})]})};export{P as default};
